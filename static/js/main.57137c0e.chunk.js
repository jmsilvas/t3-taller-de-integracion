(this["webpackJsonpsocket-app"]=this["webpackJsonpsocket-app"]||[]).push([[0],{53:function(e,t,c){},54:function(e,t,c){},90:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),i=c(25),a=c.n(i),r=(c(53),c(7)),o=(c(54),c(92)),j=c(103),l=c(93),d=c(94),h=c(95),b=c(47),O=Object(b.io)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),p=c(2);function u(e){var t=Object(n.useState)({}),c=Object(r.a)(t,2),s=c[0],i=c[1];return O.on("POSITION",(function(e){s[e.code]=e.position,i(s)})),Object(p.jsx)("div",{children:Object(p.jsx)("div",{id:"mapid",children:Object(p.jsxs)(o.a,{center:[-38.505,-65.09],zoom:5,scrollWheelZoom:!1,children:[Object(p.jsx)(j.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.flights.map((function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.a,{pathOptions:{color:e.color},positions:[e.origin,e.destination],children:Object(p.jsx)(d.a,{children:e.code})}),s[e.code]&&Object(p.jsx)(h.a,{position:[s[e.code][0],s[e.code][1]],children:Object(p.jsxs)(d.a,{children:["Posicion actual Vuelo ",e.code,s[e.code]?s[e.code].position:"no hay avance"]})},e.code+"loc")]})}))]})})})}var x=c(96),m=c(97),g=c(98),f=c(102),v=c(99);function S(e){var t=Object(n.useState)(""),c=Object(r.a)(t,2),s=c[0],i=c[1],a=Object(n.useState)(""),o=Object(r.a)(a,2),j=o[0],l=o[1],d=Object(n.useState)(""),h=Object(r.a)(d,2),b=h[0],u=h[1];return O.on("CHAT",(function(e){e.name===s?u(b+"yosepareichon"+Date(e.date).split("GMT")[0]+"separeichon"+e.message+"qwertyui"):u(b+e.name+"separeichon"+Date(e.date).split("GMT")[0]+"separeichon"+e.message+"qwertyui")})),Object(p.jsxs)(p.Fragment,{children:[s&&Object(p.jsx)(x.a,{className:"chat-scroll",children:Object(p.jsx)("div",{children:b.split("qwertyui").map((function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{children:[e.split("separeichon")[0]," ",e.split("separeichon")[1]]}),Object(p.jsx)("p",{children:e.split("separeichon")[2]})]})}))})}),Object(p.jsx)(x.a,{children:Object(p.jsxs)(m.a,{className:"input-group23",children:[Object(p.jsx)(g.a,{placeholder:s?"Escribe tu mensaje":"Ingresa tu nickname para chatear",onChange:function(e){return l(e.target.value)},value:j}),Object(p.jsx)(f.a,{addonType:"append",children:s?Object(p.jsx)(v.a,{color:"secondary",onClick:function(){O.emit("CHAT",{name:s,message:j}),l("")},children:"Send"}):Object(p.jsx)(v.a,{color:"secondary",onClick:function(){i(j),l("")},children:"Send"})})]})})]})}var y=c(100),k=c(101);var F=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){O.emit("FLIGHTS")}),[c]),O.on("FLIGHTS",(function(e){for(var t=0;t<e.length;t++)e[t].color="red";s(e)})),Object(p.jsxs)(y.a,{className:"main-container",children:[Object(p.jsxs)(x.a,{children:[Object(p.jsx)(k.a,{md:"8",sm:"12",children:Object(p.jsx)(u,{socket:O,flights:c,setFlights:s})}),Object(p.jsx)(k.a,{md:"4",sm:"12",children:Object(p.jsx)(S,{socket:O})})]}),Object(p.jsxs)(x.a,{md:"12",children:[Object(p.jsx)("h2",{children:"Info"}),c.length?c.map((function(e){return Object(p.jsxs)(k.a,{children:[Object(p.jsx)("div",{children:e.code}),Object(p.jsx)("div",{children:e.airline}),Object(p.jsx)("div",{children:e.plane}),Object(p.jsx)("div",{children:e.seats})]},e.code)})):""]})]})},T=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,104)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),i(e),a(e)}))};c(89);a.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(F,{})}),document.getElementById("root")),T()}},[[90,1,2]]]);
//# sourceMappingURL=main.57137c0e.chunk.js.map